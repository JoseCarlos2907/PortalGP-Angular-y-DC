@if(comprobanteAnchoPantalla === true){
    <app-header-sm [temaSeleccionado]="temaSeleccionado"></app-header-sm>
}@else {
    <app-header [temaSeleccionado]="temaSeleccionado"></app-header>
}

<div class="clasificacionMainDiv"
    [class.bgClaro]="temaSeleccionado == 0 || temaSeleccionado == 1 || temaSeleccionado == 2"
    [class.bgOscuro]="temaSeleccionado == 3 || temaSeleccionado == 4"
>
    <!-- Barra de busqueda -->
    <app-barra-busqueda></app-barra-busqueda>

    <h1>Clasificacion Oficial <br> de Pilotos</h1>

    <div class="clasificacion">
        <table>
            <tbody>
                <tr>
                    <th><p>Pos</p></th>
                    <th><p>Foto</p></th>
                    <th><p>Nombre</p></th>
                    <th class="tdEscuderia"><p>Escuder√≠a</p></th>
                    <th><p>Pais</p></th>
                    <th><p>Puntos</p></th>
                </tr>
                <!-- <tr
                [class.trPilotoClaro]="temaSeleccionado == 0 || temaSeleccionado == 1 || temaSeleccionado == 2 || temaSeleccionado == 3 "
                [class.trPilotoOscuro]="temaSeleccionado == 4"  
                (click)="verPerfilPiloto(0)">
                    <td><p>1</p></td>
                    <td class="tdImgPiloto">
                        <p>
                            <img src="../../../assets/images/UsuarioPredeterminado.png" alt="">
                        </p>
                    </td>
                    <td class="tdNombreCompleto">
                        <p>Nombre</p>
                        <p>Apellido</p>
                    </td>
                    <td><p>Nombre de Escuderia</p></td>
                    <td class="tdPais">
                        <img [src]="getImagenBandera('ES')" alt=""/>
                    </td>
                    <td><p>777</p></td>
                </tr>  -->
                    @for(piloto of datosClasificacion; track $index){
                        <tr 
                        [class.trPilotoClaro]="temaSeleccionado == 0 || temaSeleccionado == 1 || temaSeleccionado == 2 || temaSeleccionado == 3 "
                        [class.trPilotoOscuro]="temaSeleccionado == 4" 
                        (click)="verPerfilPiloto(piloto.idPiloto)">
                            <td><p>{{ $index + 1 }}</p></td>
                            <td class="tdImgPiloto">
                                <p>
                                    <img [src]="piloto.imgPerfil" alt="">
                                </p>
                            </td>
                            <td class="tdNombreCompleto">
                                <p>{{ piloto.nombre }}</p>
                                <p>{{ piloto.apellido }}</p>
                            </td>
                            <td><p>{{ piloto.nombreEscuderia }}</p></td>
                            <td class="tdPais">
                                <img [src]="getImagenBandera(piloto.paisCC)" alt=""/>
                            </td>
                            <td><p>{{ piloto.puntosTotales }}</p></td>
                        </tr> 
                    }
            </tbody>
        </table>
    </div>

    
    <!-- Grafica de pilotos, escuderias, etc... -->
    <div 
    [class.graficaClasificacionClaro]="temaSeleccionado == 0 || temaSeleccionado == 1 || temaSeleccionado == 2"
    [class.graficaClasificacionOscuro]="temaSeleccionado == 3 || temaSeleccionado == 4"
    >
    @defer{
            <ngx-charts-line-chart
            [view]="view"
            [legend]="legend"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"
            [xAxis]="xAxis"
            [yAxis]="yAxis"
            [xAxisLabel]="xAxisLabel"
            [yAxisLabel]="yAxisLabel"
            [timeline]="timeline"
            [results]="multi"
            [yAxisTicks]="yAxisTicks"
            [yScaleMin]="yScaleMin"
            [yScaleMax]="yScaleMax"
            >
            <!-- [activeEntries]="activeEntries" -->
            </ngx-charts-line-chart>
        } @loading (minimum 1s){
        }
    </div>
</div>